(function(){"use strict";var t={2262:function(t,e,a){a(6992),a(8674),a(9601),a(7727);var r=a(8935),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("NavBar"),a("div",{staticClass:"alert"},[t.alertState.visible?a("AlertForm",{attrs:{alert:t.alertState}}):t._e()],1),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},t._l(t.contacts,(function(t,e){return a("CardTemplate",{key:e,attrs:{user:t,index:e}})})),1)]),t.formVisible?a("FormTemplate"):t._e()],1)},o=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar"},[a("div",{staticClass:"container "},[t._m(0),a("div",{staticClass:"col-12 col-xl-4 mt-2"},[a("button",{staticClass:"btn btn-lg",on:{click:function(e){return t.showModal()}}},[t._v("Add Contact")])]),a("div",{staticClass:"col-12 col-xl-4 mt-2"},[a("form",{staticClass:"form-inline"},[a("input",{staticClass:" form-control mr-sm-2 form-control-lg",attrs:{type:"search",placeholder:"Search","aria-label":"Search"},on:{keyup:function(e){return t.search(e)}}})])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12 col-xl-4"},[a("a",{staticClass:"navbar-brand text-light"},[t._v(" Contact Form")])])}],c={name:"NavBar",methods:{showModal:function(){this.$store.commit("toggleForm"),this.$store.state.form.edit=!1},search:function(t){this.$store.commit("setSearchTerm",t.target.value)}}},l=c,u=a(3736),d=(0,u.Z)(l,n,i,!1,null,"3746d4ad",null),m=d.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card mx-auto mt-5 shadow p-3 mb-5 bg-white rounded",staticStyle:{width:"25rem"}},[a("div",{staticClass:"card-body d-flex flex-column justify-content-between"},[a("div",[a("h5",{staticClass:"textCap card-title text-start "},[t._v(t._s(t.user.fName)+" "+t._s(t.user.lName))]),a("hr"),a("p",{staticClass:"card-text text-start"},[a("i",{staticClass:" bi bi-envelope"}),t._v(" "+t._s(t.user.email)+" ")]),a("p",{staticClass:"card-text text-start"},[a("i",{staticClass:"bi bi-telephone"}),t._v(" "+t._s(t.user.phone)+" ")]),a("p",{staticClass:"card-text text-start"},[a("i",{staticClass:"bi bi-geo-alt"}),t._v(" "+t._s(t._f("toString")(t.user.address))+" ")])]),a("div",{staticClass:"mt-3 mb-1 pt-2 w-100 mx-auto d-flex justify-content-between "},[a("button",{staticClass:"btn btn-danger ",on:{click:function(e){return t.deleteContact()}}},[t._v("Delete "),a("i",{staticClass:"bi bi-trash"})]),a("button",{staticClass:"btn btn-primary ",on:{click:function(e){return t.editContact()}}},[t._v("Edit "),a("i",{staticClass:"bi bi-pencil-square"})])])])])},h=[],v=(a(9653),{name:"CardTemplate",props:{user:Object,index:Number},filters:{toString:function(t){return t}},methods:{deleteContact:function(){confirm("Are you sure you want to delete this contact?")&&this.$store.dispatch("deleteContact",this.user)},editContact:function(){this.$store.commit("editContact",this.user),this.$store.commit("toggleForm")}}}),p=v,b=(0,u.Z)(p,f,h,!1,null,"73a6659c",null),C=b.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"md-bg"},[a("form",{staticClass:"form mx-auto border bg-light border-dark p-3 rounded mt-5"},[t.form.edit?a("h2",[t._v("Edit Contact")]):a("h2",[t._v("Add Contact")]),a("div",{staticClass:" mb-3 w-100 mx-auto"},[a("label",{staticClass:"form-label w-100 text-start text-capitalize text-lg"},[t._v("First Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.data.fName,expression:"form.data.fName"}],staticClass:"textCap form-control",attrs:{required:"",type:"text",id:"fName",maxlength:"20"},domProps:{value:t.form.data.fName},on:{input:function(e){e.target.composing||t.$set(t.form.data,"fName",e.target.value)}}}),t.errors.fNameError?a("label",{staticClass:"text-danger d-flex justify-content-start"},[t._v(" "+t._s(t.errors.fNameError)+" ")]):t._e()]),a("div",{staticClass:"mb-3 w-100 mx-auto"},[a("label",{staticClass:"form-label w-100 text-start"},[t._v("Last Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.data.lName,expression:"form.data.lName"}],staticClass:" textCap form-control",attrs:{type:"text",maxlength:"20"},domProps:{value:t.form.data.lName},on:{input:function(e){e.target.composing||t.$set(t.form.data,"lName",e.target.value)}}}),a("label",{staticClass:"text-danger d-flex justify-content-start"},[t._v(t._s(t.errors.lNameError))])]),a("div",{staticClass:"mb-3 w-100 mx-auto"},[a("label",{staticClass:"form-label w-100 text-start"},[t._v("Phone Number")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.data.phone,expression:"form.data.phone"}],staticClass:"form-control",attrs:{type:"tel",maxlength:"15"},domProps:{value:t.form.data.phone},on:{input:function(e){e.target.composing||t.$set(t.form.data,"phone",e.target.value)}}}),a("label",{staticClass:"text-danger d-flex justify-content-start"},[t._v(" "+t._s(t.errors.phoneError)+" ")])]),a("div",{staticClass:"mb-3 w-100 mx-auto"},[a("label",{staticClass:"form-label w-100 text-start"},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.data.email,expression:"form.data.email"}],staticClass:"form-control",attrs:{type:"email",maxlength:"50"},domProps:{value:t.form.data.email},on:{input:function(e){e.target.composing||t.$set(t.form.data,"email",e.target.value)}}}),a("label",{staticClass:"text-danger d-flex justify-content-start"},[t._v(" "+t._s(t.errors.emailError)+" ")])]),a("div",{staticClass:"mb-3 w-100 mx-auto"},[a("label",{staticClass:"form-label w-100 text-start"},[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.data.address,expression:"form.data.address"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.data.address},on:{input:function(e){e.target.composing||t.$set(t.form.data,"address",e.target.value)}}}),a("label",{staticClass:"text-danger d-flex justify-content-start"},[t._v(t._s(t.errors.addressError)+" ")])]),a("div",{staticClass:"mb-3 w-100 mx-auto d-flex justify-content-between"},[a("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:function(e){return t.closeForm()}}},[t._v("Close "),a("i",{staticClass:"bi bi-x-circle"})]),t.form.edit?a("button",{staticClass:"btn btn-success ",attrs:{type:"button"},on:{click:function(e){return t.saveDetails()}}},[t._v(" Update "),a("i",{staticClass:"bi bi-pencil-square"})]):a("button",{staticClass:"btn btn-info ",attrs:{type:"button"},on:{click:function(e){return t.saveDetails()}}},[t._v("Save Contact "),a("i",{staticClass:"bi bi-box-arrow-down"})])])])])},x=[],_=a(6133),y=a(2751),w=(a(1539),a(4747),a(7941),function(){function t(e){(0,_.Z)(this,t),this.data=e,this.formErrors={},this.isValid=!0}return(0,y.Z)(t,[{key:"validate",value:function(){var t=this;this.data.fName||(this.formErrors.fNameError="First name is needed"),this.data.lName||(this.formErrors.lNameError="Last name is needed"),this.data.email||(this.formErrors.emailError="Email is needed"),this.data.phone||(this.formErrors.phoneError="Phone number is needed"),this.data.address||(this.formErrors.addressError="Address is needed"),Object.keys(this.formErrors).forEach((function(e){t.formErrors[e]&&(t.isValid=!1)}))}},{key:"getErrors",value:function(){return this.formErrors}},{key:"isValid",value:function(){return this.isValid}}]),t}()),E={name:"FormTemplate",data:function(){return{form:{data:{fName:"",lName:"",phone:"",email:"",address:""},visible:!1,edit:!1},errors:{}}},methods:{saveDetails:function(){var t=new w(this.form.data);t.validate(),t.isValid?this.form.edit?this.$store.dispatch("updateContact",this.form.data):this.$store.dispatch("addContact",this.form.data):this.errors=t.getErrors()},closeForm:function(){this.$store.commit("toggleForm")}},computed:{},beforeMount:function(){this.form=this.$store.getters.getForm,this.form.data=this.$store.getters.getContactToBeEdited},destroyed:function(){this.$store.commit("destroyForm")}},N=E,$=(0,u.Z)(N,g,x,!1,null,null,null),k=$.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alerts w-100 mx-auto "})},F=[],Z={name:"AlertForm",props:{alert:Object},methods:{},mounted:function(){this.$toast.success(this.alert.msg,{position:"bottom-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}},P=Z,j=(0,u.Z)(P,T,F,!1,null,"187fceb8",null),O=j.exports,S={name:"App",components:{CardTemplate:C,NavBar:m,FormTemplate:k,AlertForm:O},data:function(){return{basePath:"http://localhost:3000"}},methods:{},computed:{contacts:function(){return this.$store.getters.getContacts},formVisible:function(){return this.$store.state.form.visible},alertState:function(){return this.$store.state.alert}},created:function(){this.$store.commit("retrieveContacts")}},A=S,B=(0,u.Z)(A,s,o,!1,null,null,null),L=B.exports,V=(a(9751),a(6166)),M=a.n(V),D=a(4665),q=a(8932),Y=a(4367),H=(a(7327),a(6699),a(2023),a(2222),a(3796));M().defaults.headers.post["Content-Type"]="application/json";var z=function(){function t(){(0,_.Z)(this,t),(0,H.Z)(this,"basePath","http://localhost:3000")}return(0,y.Z)(t,[{key:"delete",value:function(t,e){return M()["delete"]("".concat(this.basePath,"/").concat(t,"/").concat(e))}},{key:"get",value:function(t){return M().get("".concat(this.basePath,"/").concat(t))}},{key:"update",value:function(t,e,a){return M().put("".concat(this.basePath,"/").concat(t,"/").concat(e),a)}},{key:"add",value:function(t,e){return M().post("".concat(this.basePath,"/").concat(t),e)}}]),t}(),J=new z,U={state:{contacts:[],form:{data:"",visible:!1,edit:!1},alert:{msg:"",visible:!1,typeClass:""},searchTerm:""},getters:{getContactToBeEdited:function(t){return(0,Y.Z)({},t.form.data)},getForm:function(t){return(0,Y.Z)({},t.form)},getContacts:function(t){return t.contacts.filter((function(e){if(e.fName.toLowerCase().includes(t.searchTerm)||e.lName.toLowerCase().includes(t.searchTerm)||e.phone.includes(t.searchTerm)||e.address.toLowerCase().includes(t.searchTerm)||e.email.toLowerCase().includes(t.searchTerm))return e}))}},mutations:{retrieveContacts:function(t){J.get("contacts").then((function(e){var a=e.data;t.contacts=a}))},addContact:function(t,e){J.add("contacts",e).then((function(e){var a=e.data,r=e.status;201==r&&(t.contacts=[].concat((0,q.Z)(t.contacts),[a]))}))},insertJsData:function(t,e){t.contacts=e},toggleForm:function(t){t.form.visible=!t.form.visible},destroyForm:function(t){t.form.data={},t.form.edit=!1},deleteContact:function(t,e){J["delete"]("contacts",e.id).then((function(a){var r=a.status;if(200==r){var s=t.contacts.filter((function(t){return t.id!=e.id}));t.contacts=(0,q.Z)(s)}}))},showAlert:function(t,e){t.alert=e,setTimeout((function(){t.alert.visible=!1}),3e3)},editContact:function(t,e){J.update("contacts",e.id,e).then((function(t){console.log(t)})),t.form.edit=!0,t.form.data=e},updateContact:function(t,e){var a=t.contacts.filter((function(e){return e!=t.form.data}));t.contacts=[].concat((0,q.Z)(a),[(0,Y.Z)({},e)])},setSearchTerm:function(t,e){t.searchTerm=e}},actions:{addContact:function(t,e){t.commit("addContact",e),t.commit("toggleForm"),t.commit("showAlert",{msg:"You have created a contact!",visible:!0,typeClass:"alert-success"})},deleteContact:function(t,e){t.commit("deleteContact",e),t.commit("showAlert",{msg:"Your contact has been deleted!",visible:!0,typeClass:"alert-danger"})},updateContact:function(t,e){t.commit("updateContact",e),t.commit("toggleForm"),t.commit("showAlert",{msg:"Your contact has been updated!",visible:!0,typeClass:"alert-success"})}}},G=U,I=a(6156);window.axios=M();var K={};r.Z.config.productionTip=!1,r.Z.use(D.ZP),r.Z.use(I.ZP,K);var Q=new D.ZP.Store(G);new r.Z({store:Q,render:function(t){return t(L)}}).$mount("#app")}},e={};function a(r){var s=e[r];if(void 0!==s)return s.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r](o,o.exports,a),o.loaded=!0,o.exports}a.m=t,function(){var t=[];a.O=function(e,r,s,o){if(!r){var n=1/0;for(u=0;u<t.length;u++){r=t[u][0],s=t[u][1],o=t[u][2];for(var i=!0,c=0;c<r.length;c++)(!1&o||n>=o)&&Object.keys(a.O).every((function(t){return a.O[t](r[c])}))?r.splice(c--,1):(i=!1,o<n&&(n=o));if(i){t.splice(u--,1);var l=s();void 0!==l&&(e=l)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[r,s,o]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var s,o,n=r[0],i=r[1],c=r[2],l=0;if(n.some((function(e){return 0!==t[e]}))){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(c)var u=c(a)}for(e&&e(r);l<n.length;l++)o=n[l],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(u)},r=self["webpackChunktext_book"]=self["webpackChunktext_book"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(2262)}));r=a.O(r)})();
//# sourceMappingURL=app-legacy.8c16bbbc.js.map