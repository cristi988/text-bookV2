(function(){"use strict";var t={2262:function(t,e,a){var s=a(8935),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("NavBar"),a("div",{staticClass:"alert"},[t.alertState.visible?a("AlertForm",{attrs:{alert:t.alertState}}):t._e()],1),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},t._l(t.contacts,(function(t,e){return a("CardTemplate",{key:e,attrs:{user:t,index:e}})})),1)]),t.formVisible?a("FormTemplate"):t._e()],1)},o=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar"},[a("div",{staticClass:"container "},[t._m(0),a("div",{staticClass:"col-12 col-xl-4 mt-2"},[a("button",{staticClass:"btn btn-lg",on:{click:function(e){return t.showModal()}}},[t._v("Add Contact")])]),a("div",{staticClass:"col-12 col-xl-4 mt-2"},[a("form",{staticClass:"form-inline"},[a("input",{staticClass:" form-control mr-sm-2 form-control-lg",attrs:{type:"search",placeholder:"Search","aria-label":"Search"},on:{keyup:function(e){return t.search(e)}}})])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12 col-xl-4"},[a("a",{staticClass:"navbar-brand text-light"},[t._v(" Contact Form")])])}],l={name:"NavBar",methods:{showModal(){this.$store.commit("toggleForm"),this.$store.state.form.edit=!1},search(t){this.$store.commit("setSearchTerm",t.target.value)}}},c=l,d=a(3736),m=(0,d.Z)(c,i,n,!1,null,"3746d4ad",null),u=m.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card mx-auto mt-5 shadow p-3 mb-5 bg-white rounded",staticStyle:{width:"25rem"}},[a("div",{staticClass:"card-body d-flex flex-column justify-content-between"},[a("div",[a("h5",{staticClass:"textCap card-title text-start "},[t._v(t._s(t.user.fName)+" "+t._s(t.user.lName))]),a("hr"),a("p",{staticClass:"card-text text-start"},[a("i",{staticClass:" bi bi-envelope"}),t._v(" "+t._s(t.user.email)+" ")]),a("p",{staticClass:"card-text text-start"},[a("i",{staticClass:"bi bi-telephone"}),t._v(" "+t._s(t.user.phone)+" ")]),a("p",{staticClass:"card-text text-start"},[a("i",{staticClass:"bi bi-geo-alt"}),t._v(" "+t._s(t._f("toString")(t.user.address))+" ")])]),a("div",{staticClass:"mt-3 mb-1 pt-2 w-100 mx-auto d-flex justify-content-between "},[a("button",{staticClass:"btn btn-danger ",on:{click:function(e){return t.deleteContact()}}},[t._v("Delete "),a("i",{staticClass:"bi bi-trash"})]),a("button",{staticClass:"btn btn-primary ",on:{click:function(e){return t.editContact()}}},[t._v("Edit "),a("i",{staticClass:"bi bi-pencil-square"})])])])])},h=[],p={name:"CardTemplate",props:{user:Object,index:Number},filters:{toString(t){return t}},methods:{deleteContact(){confirm("Are you sure you want to delete this contact?")&&this.$store.dispatch("deleteContact",this.user)},editContact(){this.$store.commit("editContact",this.user),this.$store.commit("toggleForm")}}},v=p,b=(0,d.Z)(v,f,h,!1,null,"73a6659c",null),C=b.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"md-bg"},[a("form",{staticClass:"form mx-auto border bg-light border-dark p-3 rounded mt-5"},[t.form.edit?a("h2",[t._v("Edit Contact")]):a("h2",[t._v("Add Contact")]),a("div",{staticClass:" mb-3 w-100 mx-auto"},[a("label",{staticClass:"form-label w-100 text-start text-capitalize text-lg"},[t._v("First Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.data.fName,expression:"form.data.fName"}],staticClass:"textCap form-control",attrs:{required:"",type:"text",id:"fName",maxlength:"20"},domProps:{value:t.form.data.fName},on:{input:function(e){e.target.composing||t.$set(t.form.data,"fName",e.target.value)}}}),t.errors.fNameError?a("label",{staticClass:"text-danger d-flex justify-content-start"},[t._v(" "+t._s(t.errors.fNameError)+" ")]):t._e()]),a("div",{staticClass:"mb-3 w-100 mx-auto"},[a("label",{staticClass:"form-label w-100 text-start"},[t._v("Last Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.data.lName,expression:"form.data.lName"}],staticClass:" textCap form-control",attrs:{type:"text",maxlength:"20"},domProps:{value:t.form.data.lName},on:{input:function(e){e.target.composing||t.$set(t.form.data,"lName",e.target.value)}}}),a("label",{staticClass:"text-danger d-flex justify-content-start"},[t._v(t._s(t.errors.lNameError))])]),a("div",{staticClass:"mb-3 w-100 mx-auto"},[a("label",{staticClass:"form-label w-100 text-start"},[t._v("Phone Number")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.data.phone,expression:"form.data.phone"}],staticClass:"form-control",attrs:{type:"tel",maxlength:"15"},domProps:{value:t.form.data.phone},on:{input:function(e){e.target.composing||t.$set(t.form.data,"phone",e.target.value)}}}),a("label",{staticClass:"text-danger d-flex justify-content-start"},[t._v(" "+t._s(t.errors.phoneError)+" ")])]),a("div",{staticClass:"mb-3 w-100 mx-auto"},[a("label",{staticClass:"form-label w-100 text-start"},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.data.email,expression:"form.data.email"}],staticClass:"form-control",attrs:{type:"email",maxlength:"50"},domProps:{value:t.form.data.email},on:{input:function(e){e.target.composing||t.$set(t.form.data,"email",e.target.value)}}}),a("label",{staticClass:"text-danger d-flex justify-content-start"},[t._v(" "+t._s(t.errors.emailError)+" ")])]),a("div",{staticClass:"mb-3 w-100 mx-auto"},[a("label",{staticClass:"form-label w-100 text-start"},[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.data.address,expression:"form.data.address"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.data.address},on:{input:function(e){e.target.composing||t.$set(t.form.data,"address",e.target.value)}}}),a("label",{staticClass:"text-danger d-flex justify-content-start"},[t._v(t._s(t.errors.addressError)+" ")])]),a("div",{staticClass:"mb-3 w-100 mx-auto d-flex justify-content-between"},[a("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:function(e){return t.closeForm()}}},[t._v("Close "),a("i",{staticClass:"bi bi-x-circle"})]),t.form.edit?a("button",{staticClass:"btn btn-success ",attrs:{type:"button"},on:{click:function(e){return t.saveDetails()}}},[t._v(" Update "),a("i",{staticClass:"bi bi-pencil-square"})]):a("button",{staticClass:"btn btn-info ",attrs:{type:"button"},on:{click:function(e){return t.saveDetails()}}},[t._v("Save Contact "),a("i",{staticClass:"bi bi-box-arrow-down"})])])])])},x=[];class _{constructor(t){this.data=t,this.formErrors={},this.isValid=!0}validate(){this.data.fName||(this.formErrors.fNameError="First name is needed"),this.data.lName||(this.formErrors.lNameError="Last name is needed"),this.data.email||(this.formErrors.emailError="Email is needed"),this.data.phone||(this.formErrors.phoneError="Phone number is needed"),this.data.address||(this.formErrors.addressError="Address is needed"),Object.keys(this.formErrors).forEach((t=>{this.formErrors[t]&&(this.isValid=!1)}))}getErrors(){return this.formErrors}isValid(){return this.isValid}}var w={name:"FormTemplate",data(){return{form:{data:{fName:"",lName:"",phone:"",email:"",address:""},visible:!1,edit:!1},errors:{}}},methods:{saveDetails(){const t=new _(this.form.data);t.validate(),t.isValid?this.form.edit?this.$store.dispatch("updateContact",this.form.data):this.$store.dispatch("addContact",this.form.data):this.errors=t.getErrors()},closeForm(){this.$store.commit("toggleForm")}},computed:{},beforeMount(){this.form=this.$store.getters.getForm,this.form.data=this.$store.getters.getContactToBeEdited},destroyed(){this.$store.commit("destroyForm")}},y=w,$=(0,d.Z)(y,g,x,!1,null,null,null),E=$.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alerts w-100 mx-auto "})},T=[],F={name:"AlertForm",props:{alert:Object},methods:{},mounted(){this.$toast.success(this.alert.msg,{position:"bottom-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}},P=F,j=(0,d.Z)(P,N,T,!1,null,"187fceb8",null),O=j.exports,k={name:"App",components:{CardTemplate:C,NavBar:u,FormTemplate:E,AlertForm:O},data(){return{basePath:"http://localhost:3000"}},methods:{},computed:{contacts(){return this.$store.getters.getContacts},formVisible(){return this.$store.state.form.visible},alertState(){return this.$store.state.alert}},created(){this.$store.commit("retrieveContacts")}},S=k,A=(0,d.Z)(S,r,o,!1,null,null,null),Z=A.exports,B=(a(8837),a(6166)),L=a.n(B),V=a(4665),M=a(3796);L().defaults.headers.post["Content-Type"]="application/json";class D{constructor(){(0,M.Z)(this,"basePath","http://localhost:3000")}delete(t,e){return L()["delete"](`${this.basePath}/${t}/${e}`)}get(t){return L().get(`${this.basePath}/${t}`)}update(t,e,a){return L().put(`${this.basePath}/${t}/${e}`,a)}add(t,e){return L().post(`${this.basePath}/${t}`,e)}}const q=new D,Y={state:{contacts:[],form:{data:"",visible:!1,edit:!1},alert:{msg:"",visible:!1,typeClass:""},searchTerm:""},getters:{getContactToBeEdited(t){return{...t.form.data}},getForm(t){return{...t.form}},getContacts(t){return t.contacts.filter((e=>{if(e.fName.toLowerCase().includes(t.searchTerm)||e.lName.toLowerCase().includes(t.searchTerm)||e.phone.includes(t.searchTerm)||e.address.toLowerCase().includes(t.searchTerm)||e.email.toLowerCase().includes(t.searchTerm))return e}))}},mutations:{retrieveContacts(t){q.get("contacts").then((({data:e})=>{t.contacts=e}))},addContact(t,e){q.add("contacts",e).then((({data:e,status:a})=>{201==a&&(t.contacts=[...t.contacts,e])}))},insertJsData(t,e){t.contacts=e},toggleForm(t){t.form.visible=!t.form.visible},destroyForm(t){t.form.data={},t.form.edit=!1},deleteContact(t,e){q["delete"]("contacts",e.id).then((({status:a})=>{if(200==a){let a=t.contacts.filter((t=>t.id!=e.id));t.contacts=[...a]}}))},showAlert(t,e){t.alert=e,setTimeout((()=>{t.alert.visible=!1}),3e3)},editContact(t,e){q.update("contacts",e.id,e).then((t=>{console.log(t)})),t.form.edit=!0,t.form.data=e},updateContact(t,e){let a=t.contacts.filter((e=>e!=t.form.data));t.contacts=[...a,{...e}]},setSearchTerm(t,e){t.searchTerm=e}},actions:{addContact(t,e){t.commit("addContact",e),t.commit("toggleForm"),t.commit("showAlert",{msg:"You have created a contact!",visible:!0,typeClass:"alert-success"})},deleteContact(t,e){t.commit("deleteContact",e),t.commit("showAlert",{msg:"Your contact has been deleted!",visible:!0,typeClass:"alert-danger"})},updateContact(t,e){t.commit("updateContact",e),t.commit("toggleForm"),t.commit("showAlert",{msg:"Your contact has been updated!",visible:!0,typeClass:"alert-success"})}}};var H=Y,z=a(6156);window.axios=L();const J={};s.Z.config.productionTip=!1,s.Z.use(V.ZP),s.Z.use(z.ZP,J);let U=new V.ZP.Store(H);new s.Z({store:U,render:t=>t(Z)}).$mount("#app")}},e={};function a(s){var r=e[s];if(void 0!==r)return r.exports;var o=e[s]={exports:{}};return t[s](o,o.exports,a),o.exports}a.m=t,function(){var t=[];a.O=function(e,s,r,o){if(!s){var i=1/0;for(d=0;d<t.length;d++){s=t[d][0],r=t[d][1],o=t[d][2];for(var n=!0,l=0;l<s.length;l++)(!1&o||i>=o)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(n=!1,o<i&&(i=o));if(n){t.splice(d--,1);var c=r();void 0!==c&&(e=c)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[s,r,o]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var r,o,i=s[0],n=s[1],l=s[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(r in n)a.o(n,r)&&(a.m[r]=n[r]);if(l)var d=l(a)}for(e&&e(s);c<i.length;c++)o=i[c],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(d)},s=self["webpackChunktext_book"]=self["webpackChunktext_book"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(2262)}));s=a.O(s)})();
//# sourceMappingURL=app.954ec6a1.js.map